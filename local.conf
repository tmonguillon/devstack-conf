[[local|localrc]]

##
## MISC
##
ADMIN_PASSWORD=password
MYSQL_PASSWORD=$ADMIN_PASSWORD
DATABASE_PASSWORD=$ADMIN_PASSWORD
RABBIT_PASSWORD=$ADMIN_PASSWORD
SERVICE_PASSWORD=$ADMIN_PASSWORD
SERVICE_TOKEN=token
HOST_IP=172.31.15.20
PUBLIC_INTERFACE=ens32

LOGDAYS=1
ROOTSLEEP=0
DATA_DIR=/opt/stack/data
SCREEN_LOGDIR=/opt/stack/logs/screen
VERBOSE=True
LOG_COLOR=False
LOGFILE=/opt/stack/logs/stack.sh.log
# Enable LOGGING
SCREEN_IS_LOGGING=True

##
## Python parameters
##
#PIP_UPGRADE=true
#USE_CONSTRAINTS=false

##
## GIT behavior
GIT_BASE=http://github.com
RECLONE=False
OFFLINE=False

##
## Requirements
##
disable_all_services
ENABLED_SERVICES=rabbit,mysql

# Still stable/mitaka and not stable/ocata
REQUIREMENTS_BRANCH=stable/ocata

##
## Keystone (Authentication service)
##
ENABLED_SERVICES+=,key
KEYSTONE_BRANCH=stable/ocata

##
## Horizon (GUI)
##
ENABLED_SERVICES+=,horizon
HORIZON_BRANCH=stable/ocata

##
## Nova (Compute Service)
##
ENABLED_SERVICES+=,n-api,n-crt,n-cauth,n-obj,n-cpu,n-cond,n-sch,n-novnc,n-sproxy,placement-api
NOVA_BRANCH=stable/ocata
NOVNC_BRANCH=stable/v0.6
# Custom parameters.
LIBVIRT_TYPE=kvm


##
## Neutron (Network Service)
##

ENABLED_SERVICES+=,q-svc,neutron,q-agt,q-dhcp,q-l3,q-meta,q-flavors
NEUTRON_BRANCH=stable/ocata

enable_plugin networking-sfc git://git.openstack.org/openstack/networking-sfc stable/ocata

# Create default Network topology (IPv4)
NEUTRON_CREATE_INITIAL_NETWORKS=False
IP_VERSION=4
# Declare a range for the ProviderNet
#FLOATING_RANGE="172.31.15.0/24"
#Q_FLOATING_ALLOCATION_POOL=start=172.31.15.210,end=172.31.15.219
#PUBLIC_NETWORK_GATEWAY="172.31.15.1"
# Declare a subnet safe to be used on devstack
#IPV4_ADDRS_SAFE_TO_USE="10.0.0.0/16"

# Disable security groups
Q_USE_SECGROUP=False
LIBVIRT_FIREWALL_DRIVER=nova.virt.firewall.NoopFirewallDriver

# OVS configuration
#Q_USE_PROVIDERNET_FOR_PUBLIC=True
#OVS_PHYSICAL_BRIDGE=br-ex
#PUBLIC_BRIDGE=br-ex
#OVS_BRIDGE_MAPPINGS=public:br-ex


##
## Glance (Image Service)
##
ENABLED_SERVICES+=,g-api,g-reg
GLANCE_BRANCH=stable/ocata
IMAGE_URLS="http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"
IMAGE_URLS+=",http://cloud-images.ubuntu.com/xenial/current/xenial-server-cloudimg-amd64-disk1.img"
IMAGE_URLS+=",http://cloud-images.ubuntu.com/trusty/current/trusty-server-cloudimg-amd64-disk1.img"
##
## Cinder (Block device service)
##
#ENABLED_SERVICES+=,cinder,c-api,c-vol,c-sch
#CINDER_BRANCH=stable/ocata

##
## Heat (Orchestration Service)
##
## Since Newton, need to be specified as devstack plugin. No more provided by default.
#ENABLED_SERVICES+=,heat,h-api,h-api-cfn,h-api-cw,h-eng
#HEAT_BRANCH=stable/ocata
enable_plugin heat https://git.openstack.org/openstack/heat stable/ocata

##
## Swift
##
#SWIFT_BRANCH=stable/ocata

##
## Post configuration
##

[[post-config|$NOVA_CONF]]
[DEFAULT]
vnc_keymap=fr
#[libvirt]
#cpu_mode = host-passthrough

